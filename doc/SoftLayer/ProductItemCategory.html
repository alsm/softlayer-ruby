<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class SoftLayer::ProductItemCategory - softlayer_api gem 3.2.2</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="ModelBase.html">SoftLayer::ModelBase</a>
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="DynamicAttribute.html">SoftLayer::DynamicAttribute</a>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li class="calls-super" ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-configuration_options">#configuration_options</a>
    
    <li ><a href="#method-i-default_option">#default_option</a>
    
    <li ><a href="#method-i-required-3F">#required?</a>
    
    <li ><a href="#method-i-service">#service</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-SoftLayer::ProductItemCategory">
  <h1 id="class-SoftLayer::ProductItemCategory" class="class">
    class SoftLayer::ProductItemCategory
  </h1>

  <section class="description">
    
<p>The goal of this class is to make it easy for scripts (and scripters) to
discover what product configuration options exist that can be added to a
product order.</p>

<p>Instances of this class are created by and discovered in the context of a
<a href="ProductPackage.html">ProductPackage</a> object. There should not
be a need to create instances of this class directly.</p>

<p>This class roughly represents entities in the
<code>SoftLayer_Product_Item_Category</code> service.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-categoryCode" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">categoryCode</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The categoryCode is a primary identifier for a particular category.  It is
a string like &#39;os&#39; or &#39;ram&#39;</p>

<p>DEPRECATION WARNING: This attribute is deprecated in favor of <a
href="ProductItemCategory.html#attribute-i-category_code">#category_code</a>
and will be removed in the next major release.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-category_code" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">category_code</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The categoryCode is a primary identifier for a particular category.  It is
a string like &#39;os&#39; or &#39;ram&#39;</p>
        
        </div>
      </div>
      
      <div id="attribute-i-name" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">name</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The name of a category is a friendly, readable string</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(softlayer_client, network_hash, is_required)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The <a href="ProductItemCategory.html">ProductItemCategory</a> class
augments the base initialization by accepting a boolean variable,
<code>is_required</code>, which (when true) indicates that this category is
required for orders against the package that created it.</p>
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="ModelBase.html#method-c-new">SoftLayer::ModelBase.new</a>
            </div>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ProductItemCategory.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">softlayer_client</span>, <span class="ruby-identifier">network_hash</span>, <span class="ruby-identifier">is_required</span>)
  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">softlayer_client</span>, <span class="ruby-identifier">network_hash</span>)
  <span class="ruby-ivar">@is_required</span> = <span class="ruby-identifier">is_required</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-configuration_options" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            configuration_options(force_update=false)
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieve the product item configuration information</p>
          
          

          
          <div class="method-source-code" id="configuration_options-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ProductItemCategory.rb, line 94</span>
<span class="ruby-identifier">sl_dynamic_attr</span> <span class="ruby-value">:configuration_options</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config_opts</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">config_opts</span>.<span class="ruby-identifier">should_update?</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># only retrieved once per instance</span>
    <span class="ruby-ivar">@configuration_options</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">config_opts</span>.<span class="ruby-identifier">to_update</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># This method assumes that the group and price item data was sent in</span>
    <span class="ruby-comment"># as part of the +network_hash+ used to initialize this object (as is done)</span>
    <span class="ruby-comment"># by the ProductPackage class. That class, in turn, gets its information</span>
    <span class="ruby-comment"># from SoftLayer_Product_Package::getCategories which does some complex</span>
    <span class="ruby-comment"># work on the back end to ensure the prices returned are correct.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># If this object was created in any other way, the configuration</span>
    <span class="ruby-comment"># options might be incorrect. So Caveat Emptor.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># Options are divided into groups (for convenience in the</span>
    <span class="ruby-comment"># web UI), but this code collapses the groups.</span>
    <span class="ruby-keyword">self</span>[<span class="ruby-string">&#39;groups&#39;</span>].<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">group</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">group</span>[<span class="ruby-string">&#39;prices&#39;</span>].<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">lhs</span>,<span class="ruby-identifier">rhs</span><span class="ruby-operator">|</span> <span class="ruby-identifier">lhs</span>[<span class="ruby-string">&#39;sort&#39;</span>] <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">rhs</span>[<span class="ruby-string">&#39;sort&#39;</span>]}.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">price_item</span><span class="ruby-operator">|</span>
        <span class="ruby-constant">ProductConfigurationOption</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">price_item</span>[<span class="ruby-string">&#39;item&#39;</span>], <span class="ruby-identifier">price_item</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">flatten</span> <span class="ruby-comment"># flatten out the individual group arrays.</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-default_option" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_option</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>If the category has a single option (regardless of fees) this method will
return that option.  If the category has more than one option, this method
will return the first that it finds with no fees associated with it.</p>

<p>If there are multiple options with no fees, it simply returns the first it
finds</p>

<p>Note that the option found may NOT be the same default option that is given
in the web-based ordering system.</p>

<p>If there are multiple options, and all of them have associated fees, then
this method *<strong>will</strong>* return nil.</p>
          
          

          
          <div class="method-source-code" id="default_option-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ProductItemCategory.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_option</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">configuration_options</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">configuration_options</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">configuration_options</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">option</span><span class="ruby-operator">|</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">free?</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-required-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">required?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns true if this category is required in its package</p>
          
          

          
          <div class="method-source-code" id="required-3F-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ProductItemCategory.rb, line 154</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">required?</span>()
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@is_required</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-service" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">service</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="service-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ProductItemCategory.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">service</span>
  <span class="ruby-identifier">softlayer_client</span>[<span class="ruby-value">:SoftLayer_Product_Item_Category</span>].<span class="ruby-identifier">object_with_id</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

